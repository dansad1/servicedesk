{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2 class="m-auto max-w-4xl text-4xl text-center p-10 ">Выберите тип заявки</h2>
    {% if types %}
    <div class="list-group m-auto max-w-xl flex flex-col gap-4 rounded-xl bg-slate-200 p-10">
        {% for type in types %}
        <button class="list-group-item list-group-item-action text-center rounded-none" onclick="selectType({{ type.id }})">
            {{ type.name }}
        </button>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center m-auto max-w-xl bg-slate-200 p-10 rounded-xl">
        <p class="text-xl">Типы заявок отсутствуют.</p>
    </div>
    {% endif %}
</div>

<script>
    function selectType(typeId) {
        // Синтаксис Django для вставки URL-адреса
        var urlTemplate = "{% url 'request_create' 0 %}";
        // JavaScript заменяет 0 на реальный typeId
        var url = urlTemplate.replace('0', typeId);
        window.location.href = url;
    }
</script>
{% endblock %}
